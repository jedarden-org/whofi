# ESP32-S3 4MB Flash OTA Partition Table for CSI Positioning System
# Optimized for minimal firmware with OTA capability
# Flash Size: 4MB (4,194,304 bytes = 0x400000)
# Name,     Type, SubType, Offset,   Size,     Flags

# System partitions (required)
nvs,        data, nvs,     0x9000,   0x4000,
phy_init,   data, phy,     0xd000,   0x1000,

# OTA partitions (dual app slots for reliable updates)
otadata,    data, ota,     0xe000,   0x2000,
ota_0,      app,  ota_0,   0x10000,  0x1A0000,
ota_1,      app,  ota_1,   0x1B0000, 0x1A0000,

# Data storage (minimal)
spiffs,     data, spiffs,  0x350000, 0xB0000,

# Total size: 4MB (0x400000)
# App payload per OTA slot: 1.625MB (1,703,936 bytes)
# Much larger than ESPHome limit but perfect for minimal CSI firmware